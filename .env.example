# DouEssay v10.0.0 - License System Environment Configuration
# Copy this file to .env and fill in your values

# =====================================================================
# CRYPTOGRAPHIC KEYS
# =====================================================================
# Path to RSA private key (keep this SECRET!)
PRIVATE_KEY_PATH=private_key.pem

# Path to RSA public key (can be distributed)
PUBLIC_KEY_PATH=public_key.pem

# Master secret for HMAC generation (generate a secure random string)
# Generate with: python -c "import secrets; print(secrets.token_hex(64))"
MASTER_SECRET=

# =====================================================================
# DATABASE CONFIGURATION (Supabase)
# =====================================================================
# Your Supabase project URL
SUPABASE_URL=https://your-project.supabase.co

# Your Supabase anon/public key
SUPABASE_KEY=your-supabase-anon-key

# Your Supabase service role key (for admin operations)
SUPABASE_SERVICE_KEY=your-service-role-key

# =====================================================================
# API CONFIGURATION
# =====================================================================
# Secret key for API authentication
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
LICENSE_API_SECRET=change-this-in-production

# API server host and port
API_HOST=0.0.0.0
API_PORT=5000

# Enable debug mode (set to False in production)
API_DEBUG=False

# =====================================================================
# CORS SETTINGS
# =====================================================================
# Allowed origins (comma-separated)
CORS_ORIGINS=*

# =====================================================================
# RATE LIMITING
# =====================================================================
# Enable rate limiting
RATE_LIMIT_ENABLED=True

# Maximum requests per hour per API key
RATE_LIMIT_PER_HOUR=1000

# =====================================================================
# LICENSE VALIDATION
# =====================================================================
# Cache TTL in seconds (how long to cache validation results)
VALIDATION_CACHE_TTL=3600

# Grace period days after expiration
GRACE_PERIOD_DAYS=7

# Require online check (for offline validation scenarios)
REQUIRE_ONLINE_CHECK=False

# Online check interval in days
ONLINE_CHECK_INTERVAL_DAYS=7

# =====================================================================
# HARDWARE BINDING
# =====================================================================
# Strict hardware binding (reject if hardware doesn't match)
HARDWARE_BINDING_STRICT=True

# Allow hardware transfer (for legitimate hardware changes)
ALLOW_HARDWARE_TRANSFER=True

# Maximum number of hardware transfers allowed
MAX_HARDWARE_TRANSFERS=3

# =====================================================================
# TRIAL LICENSE DEFAULTS
# =====================================================================
# Trial license duration in days
TRIAL_DURATION_DAYS=30

# Maximum users for trial licenses
TRIAL_MAX_USERS=5

# =====================================================================
# LOGGING
# =====================================================================
# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file path
LOG_FILE=license_system.log

# Maximum log file size in bytes (10MB)
LOG_MAX_BYTES=10485760

# Number of backup log files to keep
LOG_BACKUP_COUNT=5

# =====================================================================
# EMAIL NOTIFICATIONS (Optional)
# =====================================================================
# Enable email notifications
EMAIL_ENABLED=False

# SMTP configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@douessay.com

# Send notification on license generation
NOTIFY_ON_GENERATION=True

# Send notification on license revocation
NOTIFY_ON_REVOCATION=True

# =====================================================================
# SECURITY
# =====================================================================
# Require HTTPS for API (set to False for local development)
REQUIRE_HTTPS=True

# Allowed IP ranges (comma-separated CIDR notation, empty = all allowed)
ALLOWED_IP_RANGES=

# Block VPN connections
BLOCK_VPN=False

# =====================================================================
# MONITORING
# =====================================================================
# Enable Prometheus metrics
ENABLE_METRICS=True

# Metrics server port
METRICS_PORT=9090

# =====================================================================
# ENVIRONMENT
# =====================================================================
# Environment (development, testing, production)
ENVIRONMENT=development
